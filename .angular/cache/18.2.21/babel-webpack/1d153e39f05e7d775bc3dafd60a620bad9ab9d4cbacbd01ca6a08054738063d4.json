{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { Validators, ReactiveFormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../core/services/village.service\";\nimport * as i3 from \"../../../core/services/ward.service\";\nimport * as i4 from \"../../../core/services/district.service\";\nimport * as i5 from \"../../../core/services/region.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/common\";\nfunction VillageFormComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" Village name is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" Village name must not exceed 100 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" Headquarters is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" Headquarters must not exceed 100 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_option_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const region_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", region_r1.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(region_r1.name);\n  }\n}\nfunction VillageFormComponent_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" Region is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_option_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const district_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", district_r2.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(district_r2.name);\n  }\n}\nfunction VillageFormComponent_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" District is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_option_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ward_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", ward_r3.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ward_r3.name);\n  }\n}\nfunction VillageFormComponent_div_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" Ward is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_div_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" Population must be a positive number \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_div_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" Area must be a positive number \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_div_80_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" Latitude must be between -90 and 90 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_div_85_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" Longitude must be between -180 and 180 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_div_90_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" Executive officer name must not exceed 100 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_div_103_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" Description must not exceed 500 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VillageFormComponent_span_108_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 58);\n  }\n}\nfunction VillageFormComponent_i_109_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 59);\n  }\n}\nexport let VillageFormComponent = /*#__PURE__*/(() => {\n  class VillageFormComponent {\n    constructor(fb, villageService, wardService, districtService, regionService, route, router) {\n      this.fb = fb;\n      this.villageService = villageService;\n      this.wardService = wardService;\n      this.districtService = districtService;\n      this.regionService = regionService;\n      this.route = route;\n      this.router = router;\n      this.isEditMode = false;\n      this.isLoading = false;\n      this.villageId = null;\n      this.regions = [];\n      this.districts = [];\n      this.wards = [];\n      this.filteredDistricts = [];\n      this.filteredWards = [];\n      this.villageForm = this.fb.group({\n        name: ['', [Validators.required, Validators.maxLength(100)]],\n        headquarters: ['', [Validators.required, Validators.maxLength(100)]],\n        regionId: [null, [Validators.required]],\n        districtId: [null, [Validators.required]],\n        wardId: [null, [Validators.required]],\n        population: [0, [Validators.min(0)]],\n        areaSqKm: [0, [Validators.min(0)]],\n        latitude: [0, [Validators.min(-90), Validators.max(90)]],\n        longitude: [0, [Validators.min(-180), Validators.max(180)]],\n        executiveOfficer: ['', [Validators.maxLength(100)]],\n        description: ['', [Validators.maxLength(500)]],\n        isActive: [true]\n      });\n    }\n    ngOnInit() {\n      this.loadRegions();\n      this.loadDistricts();\n      this.loadWards();\n      // Check if we're in edit mode\n      this.villageId = this.route.snapshot.paramMap.get('uid');\n      if (this.villageId) {\n        this.isEditMode = true;\n        this.loadVillage(this.villageId);\n      }\n    }\n    loadRegions() {\n      this.regionService.getAllRegions(0, 1000).subscribe({\n        next: response => {\n          this.regions = response.data || [];\n        },\n        error: error => {\n          console.error('Error loading regions:', error);\n        }\n      });\n    }\n    loadDistricts() {\n      console.log('Loading districts...');\n      this.districtService.getAllDistricts(0, 1000).subscribe({\n        next: response => {\n          this.districts = response.data || [];\n          this.filteredDistricts = this.districts;\n          console.log('Loaded districts:', this.districts);\n          console.log('Sample district structure:', this.districts[0]);\n        },\n        error: error => {\n          console.error('Error loading districts:', error);\n        }\n      });\n    }\n    loadWards() {\n      console.log('Loading wards...');\n      this.wardService.getAllWards(0, 1000).subscribe({\n        next: response => {\n          this.wards = response.data || [];\n          this.filteredWards = this.wards;\n          console.log('Loaded wards:', this.wards);\n          console.log('Sample ward structure:', this.wards[0]);\n        },\n        error: error => {\n          console.error('Error loading wards:', error);\n        }\n      });\n    }\n    loadVillage(uid) {\n      this.isLoading = true;\n      console.log('Loading village with UID:', uid);\n      this.villageService.getVillageByUid(uid).subscribe({\n        next: response => {\n          this.isLoading = false;\n          console.log('Village API Response:', response);\n          if (response.status) {\n            const village = response.data;\n            console.log('Village data:', village);\n            this.villageForm.patchValue({\n              name: village.name,\n              headquarters: village.headquarters,\n              regionId: village.regionId,\n              districtId: village.districtId,\n              wardId: village.wardId,\n              population: village.population,\n              areaSqKm: village.areaSqKm,\n              latitude: village.latitude,\n              longitude: village.longitude,\n              executiveOfficer: village.executiveOfficer,\n              description: village.description,\n              isActive: village.isActive\n            });\n            // Filter districts and wards based on selected values\n            this.onRegionChange();\n            this.onDistrictChange();\n          }\n        },\n        error: error => {\n          this.isLoading = false;\n          console.error('Error loading village:', error);\n          console.error('Error status:', error.status);\n          console.error('Error details:', error.error);\n          alert(`Error loading village: ${error.error?.message || error.message || 'Unknown error'}`);\n          this.goBack();\n        }\n      });\n    }\n    onRegionChange() {\n      const selectedRegionId = this.villageForm.get('regionId')?.value;\n      console.log('Region changed to:', selectedRegionId);\n      if (selectedRegionId) {\n        // Find the selected region to get its UID\n        const selectedRegion = this.regions.find(r => r.id === Number(selectedRegionId));\n        console.log('Selected region:', selectedRegion);\n        if (selectedRegion) {\n          // Load districts for this specific region using the API\n          this.districtService.getDistrictsByRegionUid(selectedRegion.uid, 0, 1000).subscribe({\n            next: response => {\n              this.filteredDistricts = response.data || [];\n              console.log('Loaded districts for region', selectedRegion.name, ':', this.filteredDistricts);\n              // Reset district and ward selections if current selections are not in filtered lists\n              const currentDistrictId = this.villageForm.get('districtId')?.value;\n              if (currentDistrictId && !this.filteredDistricts.find(d => d.id === currentDistrictId)) {\n                this.villageForm.patchValue({\n                  districtId: null,\n                  wardId: null\n                });\n              }\n              // Update wards based on new district selection\n              this.onDistrictChange();\n            },\n            error: error => {\n              console.error('Error loading districts for region:', error);\n              this.filteredDistricts = [];\n            }\n          });\n        }\n      } else {\n        // No region selected, show all districts\n        this.filteredDistricts = this.districts;\n        console.log('No region selected, showing all districts:', this.filteredDistricts);\n      }\n    }\n    onDistrictChange() {\n      const selectedDistrictId = this.villageForm.get('districtId')?.value;\n      console.log('District changed to:', selectedDistrictId);\n      if (selectedDistrictId) {\n        // Find the selected district to get its UID\n        const selectedDistrict = this.filteredDistricts.find(d => d.id === Number(selectedDistrictId));\n        console.log('Selected district:', selectedDistrict);\n        if (selectedDistrict) {\n          // Load wards for this specific district using the API\n          this.wardService.getWardsByDistrictUid(selectedDistrict.uid, 0, 1000).subscribe({\n            next: response => {\n              this.filteredWards = response.data || [];\n              console.log('Loaded wards for district', selectedDistrict.name, ':', this.filteredWards);\n              // Reset ward selection if current selection is not in filtered list\n              const currentWardId = this.villageForm.get('wardId')?.value;\n              if (currentWardId && !this.filteredWards.find(w => w.id === currentWardId)) {\n                this.villageForm.patchValue({\n                  wardId: null\n                });\n              }\n            },\n            error: error => {\n              console.error('Error loading wards for district:', error);\n              this.filteredWards = [];\n            }\n          });\n        }\n      } else {\n        // No district selected, show all wards\n        this.filteredWards = this.wards;\n        console.log('No district selected, showing all wards:', this.filteredWards);\n      }\n    }\n    onSubmit() {\n      if (this.villageForm.valid) {\n        this.isLoading = true;\n        const formData = this.villageForm.value;\n        if (this.isEditMode && this.villageId) {\n          // Update existing village\n          const updateRequest = {\n            name: formData.name,\n            headquarters: formData.headquarters,\n            wardId: formData.wardId,\n            population: formData.population,\n            areaSqKm: formData.areaSqKm,\n            latitude: formData.latitude,\n            longitude: formData.longitude,\n            executiveOfficer: formData.executiveOfficer,\n            description: formData.description,\n            isActive: formData.isActive\n          };\n          this.villageService.updateVillage(this.villageId, updateRequest).subscribe({\n            next: response => {\n              this.isLoading = false;\n              if (response.status) {\n                alert('Village updated successfully!');\n                this.goBack();\n              }\n            },\n            error: error => {\n              this.isLoading = false;\n              console.error('Error updating village:', error);\n              alert(`Error updating village: ${error.error?.message || error.message || 'Unknown error'}`);\n            }\n          });\n        } else {\n          // Create new village\n          const createRequest = {\n            name: formData.name,\n            headquarters: formData.headquarters,\n            wardId: formData.wardId,\n            population: formData.population,\n            areaSqKm: formData.areaSqKm,\n            latitude: formData.latitude,\n            longitude: formData.longitude,\n            executiveOfficer: formData.executiveOfficer,\n            description: formData.description,\n            isActive: formData.isActive\n          };\n          this.villageService.createVillage(createRequest).subscribe({\n            next: response => {\n              this.isLoading = false;\n              if (response.status) {\n                alert('Village created successfully!');\n                this.goBack();\n              }\n            },\n            error: error => {\n              this.isLoading = false;\n              console.error('Error creating village:', error);\n              alert(`Error creating village: ${error.error?.message || error.message || 'Unknown error'}`);\n            }\n          });\n        }\n      } else {\n        // Mark all fields as touched to show validation errors\n        Object.keys(this.villageForm.controls).forEach(key => {\n          this.villageForm.get(key)?.markAsTouched();\n        });\n      }\n    }\n    goBack() {\n      this.router.navigate(['/villages']);\n    }\n    static {\n      this.ɵfac = function VillageFormComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || VillageFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.VillageService), i0.ɵɵdirectiveInject(i3.WardService), i0.ɵɵdirectiveInject(i4.DistrictService), i0.ɵɵdirectiveInject(i5.RegionService), i0.ɵɵdirectiveInject(i6.ActivatedRoute), i0.ɵɵdirectiveInject(i6.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: VillageFormComponent,\n        selectors: [[\"app-village-form\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 158,\n        vars: 47,\n        consts: [[1, \"village-form-container\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"h3\", \"mb-1\"], [1, \"text-muted\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", 3, \"click\"], [1, \"bi\", \"bi-arrow-left\", \"me-1\"], [1, \"row\"], [1, \"col-lg-8\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-title\", \"mb-0\"], [1, \"bi\", \"bi-house-door\", \"me-2\"], [1, \"card-body\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"row\", \"g-3\"], [1, \"col-md-6\"], [\"for\", \"name\", 1, \"form-label\"], [1, \"text-danger\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\", \"placeholder\", \"Enter village name\", 1, \"form-control\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"headquarters\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"headquarters\", \"formControlName\", \"headquarters\", \"placeholder\", \"Enter headquarters\", 1, \"form-control\"], [1, \"col-md-4\"], [\"for\", \"regionId\", 1, \"form-label\"], [\"id\", \"regionId\", \"formControlName\", \"regionId\", 1, \"form-select\", 3, \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"districtId\", 1, \"form-label\"], [\"id\", \"districtId\", \"formControlName\", \"districtId\", 1, \"form-select\", 3, \"change\"], [\"for\", \"wardId\", 1, \"form-label\"], [\"id\", \"wardId\", \"formControlName\", \"wardId\", 1, \"form-select\"], [\"for\", \"population\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"population\", \"formControlName\", \"population\", \"placeholder\", \"Enter population\", \"min\", \"0\", 1, \"form-control\"], [\"for\", \"areaSqKm\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"areaSqKm\", \"formControlName\", \"areaSqKm\", \"placeholder\", \"Enter area in square kilometers\", \"min\", \"0\", \"step\", \"0.1\", 1, \"form-control\"], [\"for\", \"latitude\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"latitude\", \"formControlName\", \"latitude\", \"placeholder\", \"Enter latitude\", \"step\", \"0.000001\", 1, \"form-control\"], [\"for\", \"longitude\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"longitude\", \"formControlName\", \"longitude\", \"placeholder\", \"Enter longitude\", \"step\", \"0.000001\", 1, \"form-control\"], [\"for\", \"executiveOfficer\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"executiveOfficer\", \"formControlName\", \"executiveOfficer\", \"placeholder\", \"Enter executive officer name\", 1, \"form-control\"], [\"for\", \"isActive\", 1, \"form-label\"], [\"id\", \"isActive\", \"formControlName\", \"isActive\", 1, \"form-select\"], [3, \"value\"], [1, \"col-12\"], [\"for\", \"description\", 1, \"form-label\"], [\"id\", \"description\", \"formControlName\", \"description\", \"rows\", \"3\", \"placeholder\", \"Enter village description\", 1, \"form-control\"], [1, \"row\", \"mt-4\"], [1, \"d-flex\", \"gap-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm me-2\", \"role\", \"status\", 4, \"ngIf\"], [\"class\", \"bi bi-check-circle me-1\", 4, \"ngIf\"], [1, \"bi\", \"bi-x-circle\", \"me-1\"], [1, \"col-lg-4\"], [1, \"bi\", \"bi-info-circle\", \"me-2\"], [1, \"list-unstyled\", \"small\", \"text-muted\"], [1, \"mt-3\"], [1, \"invalid-feedback\"], [\"role\", \"status\", 1, \"spinner-border\", \"spinner-border-sm\", \"me-2\"], [1, \"bi\", \"bi-check-circle\", \"me-1\"]],\n        template: function VillageFormComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h1\", 2);\n            i0.ɵɵtext(4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"p\", 3);\n            i0.ɵɵtext(6);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"button\", 4);\n            i0.ɵɵlistener(\"click\", function VillageFormComponent_Template_button_click_7_listener() {\n              return ctx.goBack();\n            });\n            i0.ɵɵelement(8, \"i\", 5);\n            i0.ɵɵtext(9, \" Back to Villages \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7)(12, \"div\", 8)(13, \"div\", 9)(14, \"h5\", 10);\n            i0.ɵɵelement(15, \"i\", 11);\n            i0.ɵɵtext(16, \" Village Information \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(17, \"div\", 12)(18, \"form\", 13);\n            i0.ɵɵlistener(\"ngSubmit\", function VillageFormComponent_Template_form_ngSubmit_18_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(19, \"div\", 14)(20, \"div\", 15)(21, \"label\", 16);\n            i0.ɵɵtext(22, \"Village Name \");\n            i0.ɵɵelementStart(23, \"span\", 17);\n            i0.ɵɵtext(24, \"*\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(25, \"input\", 18);\n            i0.ɵɵtemplate(26, VillageFormComponent_div_26_Template, 2, 0, \"div\", 19)(27, VillageFormComponent_div_27_Template, 2, 0, \"div\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"div\", 15)(29, \"label\", 20);\n            i0.ɵɵtext(30, \"Headquarters \");\n            i0.ɵɵelementStart(31, \"span\", 17);\n            i0.ɵɵtext(32, \"*\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(33, \"input\", 21);\n            i0.ɵɵtemplate(34, VillageFormComponent_div_34_Template, 2, 0, \"div\", 19)(35, VillageFormComponent_div_35_Template, 2, 0, \"div\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(36, \"div\", 22)(37, \"label\", 23);\n            i0.ɵɵtext(38, \"Region \");\n            i0.ɵɵelementStart(39, \"span\", 17);\n            i0.ɵɵtext(40, \"*\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(41, \"select\", 24);\n            i0.ɵɵlistener(\"change\", function VillageFormComponent_Template_select_change_41_listener() {\n              return ctx.onRegionChange();\n            });\n            i0.ɵɵelementStart(42, \"option\", 25);\n            i0.ɵɵtext(43, \"Select a region\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(44, VillageFormComponent_option_44_Template, 2, 2, \"option\", 26);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(45, VillageFormComponent_div_45_Template, 2, 0, \"div\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(46, \"div\", 22)(47, \"label\", 27);\n            i0.ɵɵtext(48, \"District \");\n            i0.ɵɵelementStart(49, \"span\", 17);\n            i0.ɵɵtext(50, \"*\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(51, \"select\", 28);\n            i0.ɵɵlistener(\"change\", function VillageFormComponent_Template_select_change_51_listener() {\n              return ctx.onDistrictChange();\n            });\n            i0.ɵɵelementStart(52, \"option\", 25);\n            i0.ɵɵtext(53, \"Select a district\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(54, VillageFormComponent_option_54_Template, 2, 2, \"option\", 26);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(55, VillageFormComponent_div_55_Template, 2, 0, \"div\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(56, \"div\", 22)(57, \"label\", 29);\n            i0.ɵɵtext(58, \"Ward \");\n            i0.ɵɵelementStart(59, \"span\", 17);\n            i0.ɵɵtext(60, \"*\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(61, \"select\", 30)(62, \"option\", 25);\n            i0.ɵɵtext(63, \"Select a ward\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(64, VillageFormComponent_option_64_Template, 2, 2, \"option\", 26);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(65, VillageFormComponent_div_65_Template, 2, 0, \"div\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(66, \"div\", 15)(67, \"label\", 31);\n            i0.ɵɵtext(68, \"Population\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(69, \"input\", 32);\n            i0.ɵɵtemplate(70, VillageFormComponent_div_70_Template, 2, 0, \"div\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(71, \"div\", 15)(72, \"label\", 33);\n            i0.ɵɵtext(73, \"Area (km\\u00B2)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(74, \"input\", 34);\n            i0.ɵɵtemplate(75, VillageFormComponent_div_75_Template, 2, 0, \"div\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(76, \"div\", 15)(77, \"label\", 35);\n            i0.ɵɵtext(78, \"Latitude\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(79, \"input\", 36);\n            i0.ɵɵtemplate(80, VillageFormComponent_div_80_Template, 2, 0, \"div\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(81, \"div\", 15)(82, \"label\", 37);\n            i0.ɵɵtext(83, \"Longitude\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(84, \"input\", 38);\n            i0.ɵɵtemplate(85, VillageFormComponent_div_85_Template, 2, 0, \"div\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(86, \"div\", 15)(87, \"label\", 39);\n            i0.ɵɵtext(88, \"Executive Officer\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(89, \"input\", 40);\n            i0.ɵɵtemplate(90, VillageFormComponent_div_90_Template, 2, 0, \"div\", 19);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(91, \"div\", 15)(92, \"label\", 41);\n            i0.ɵɵtext(93, \"Status\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(94, \"select\", 42)(95, \"option\", 43);\n            i0.ɵɵtext(96, \"Active\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(97, \"option\", 43);\n            i0.ɵɵtext(98, \"Inactive\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(99, \"div\", 44)(100, \"label\", 45);\n            i0.ɵɵtext(101, \"Description\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(102, \"textarea\", 46);\n            i0.ɵɵtemplate(103, VillageFormComponent_div_103_Template, 2, 0, \"div\", 19);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(104, \"div\", 47)(105, \"div\", 44)(106, \"div\", 48)(107, \"button\", 49);\n            i0.ɵɵtemplate(108, VillageFormComponent_span_108_Template, 1, 0, \"span\", 50)(109, VillageFormComponent_i_109_Template, 1, 0, \"i\", 51);\n            i0.ɵɵtext(110);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(111, \"button\", 4);\n            i0.ɵɵlistener(\"click\", function VillageFormComponent_Template_button_click_111_listener() {\n              return ctx.goBack();\n            });\n            i0.ɵɵelement(112, \"i\", 52);\n            i0.ɵɵtext(113, \" Cancel \");\n            i0.ɵɵelementEnd()()()()()()()();\n            i0.ɵɵelementStart(114, \"div\", 53)(115, \"div\", 8)(116, \"div\", 9)(117, \"h6\", 10);\n            i0.ɵɵelement(118, \"i\", 54);\n            i0.ɵɵtext(119, \" Help & Guidelines \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(120, \"div\", 12)(121, \"h6\");\n            i0.ɵɵtext(122, \"Required Fields\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(123, \"ul\", 55)(124, \"li\");\n            i0.ɵɵtext(125, \"\\u2022 Village Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(126, \"li\");\n            i0.ɵɵtext(127, \"\\u2022 Headquarters\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(128, \"li\");\n            i0.ɵɵtext(129, \"\\u2022 Region\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(130, \"li\");\n            i0.ɵɵtext(131, \"\\u2022 District\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(132, \"li\");\n            i0.ɵɵtext(133, \"\\u2022 Ward\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(134, \"h6\", 56);\n            i0.ɵɵtext(135, \"Optional Fields\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(136, \"ul\", 55)(137, \"li\");\n            i0.ɵɵtext(138, \"\\u2022 Population\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(139, \"li\");\n            i0.ɵɵtext(140, \"\\u2022 Area (km\\u00B2)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(141, \"li\");\n            i0.ɵɵtext(142, \"\\u2022 Coordinates\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(143, \"li\");\n            i0.ɵɵtext(144, \"\\u2022 Executive Officer\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(145, \"li\");\n            i0.ɵɵtext(146, \"\\u2022 Description\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(147, \"h6\", 56);\n            i0.ɵɵtext(148, \"Tips\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(149, \"ul\", 55)(150, \"li\");\n            i0.ɵɵtext(151, \"\\u2022 Select region first to filter districts\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(152, \"li\");\n            i0.ɵɵtext(153, \"\\u2022 Select district to filter wards\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(154, \"li\");\n            i0.ɵɵtext(155, \"\\u2022 Use precise coordinates for mapping\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(156, \"li\");\n            i0.ɵɵtext(157, \"\\u2022 Keep descriptions concise and informative\");\n            i0.ɵɵelementEnd()()()()()()();\n          }\n          if (rf & 2) {\n            let tmp_3_0;\n            let tmp_4_0;\n            let tmp_5_0;\n            let tmp_6_0;\n            let tmp_7_0;\n            let tmp_8_0;\n            let tmp_9_0;\n            let tmp_11_0;\n            let tmp_12_0;\n            let tmp_14_0;\n            let tmp_15_0;\n            let tmp_17_0;\n            let tmp_18_0;\n            let tmp_19_0;\n            let tmp_20_0;\n            let tmp_21_0;\n            let tmp_22_0;\n            let tmp_23_0;\n            let tmp_24_0;\n            let tmp_25_0;\n            let tmp_26_0;\n            let tmp_27_0;\n            let tmp_30_0;\n            let tmp_31_0;\n            i0.ɵɵadvance(4);\n            i0.ɵɵtextInterpolate(ctx.isEditMode ? \"Edit Village\" : \"Create New Village\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(ctx.isEditMode ? \"Update village information\" : \"Add a new village to the system\");\n            i0.ɵɵadvance(12);\n            i0.ɵɵproperty(\"formGroup\", ctx.villageForm);\n            i0.ɵɵadvance(7);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_3_0 = ctx.villageForm.get(\"name\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx.villageForm.get(\"name\")) == null ? null : tmp_3_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (tmp_4_0 = ctx.villageForm.get(\"name\")) == null ? null : tmp_4_0.hasError(\"required\"));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (tmp_5_0 = ctx.villageForm.get(\"name\")) == null ? null : tmp_5_0.hasError(\"maxlength\"));\n            i0.ɵɵadvance(6);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_6_0 = ctx.villageForm.get(\"headquarters\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx.villageForm.get(\"headquarters\")) == null ? null : tmp_6_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (tmp_7_0 = ctx.villageForm.get(\"headquarters\")) == null ? null : tmp_7_0.hasError(\"required\"));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (tmp_8_0 = ctx.villageForm.get(\"headquarters\")) == null ? null : tmp_8_0.hasError(\"maxlength\"));\n            i0.ɵɵadvance(6);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_9_0 = ctx.villageForm.get(\"regionId\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.villageForm.get(\"regionId\")) == null ? null : tmp_9_0.touched));\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.regions);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (tmp_11_0 = ctx.villageForm.get(\"regionId\")) == null ? null : tmp_11_0.hasError(\"required\"));\n            i0.ɵɵadvance(6);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_12_0 = ctx.villageForm.get(\"districtId\")) == null ? null : tmp_12_0.invalid) && ((tmp_12_0 = ctx.villageForm.get(\"districtId\")) == null ? null : tmp_12_0.touched));\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.filteredDistricts);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (tmp_14_0 = ctx.villageForm.get(\"districtId\")) == null ? null : tmp_14_0.hasError(\"required\"));\n            i0.ɵɵadvance(6);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_15_0 = ctx.villageForm.get(\"wardId\")) == null ? null : tmp_15_0.invalid) && ((tmp_15_0 = ctx.villageForm.get(\"wardId\")) == null ? null : tmp_15_0.touched));\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.filteredWards);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (tmp_17_0 = ctx.villageForm.get(\"wardId\")) == null ? null : tmp_17_0.hasError(\"required\"));\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_18_0 = ctx.villageForm.get(\"population\")) == null ? null : tmp_18_0.invalid) && ((tmp_18_0 = ctx.villageForm.get(\"population\")) == null ? null : tmp_18_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (tmp_19_0 = ctx.villageForm.get(\"population\")) == null ? null : tmp_19_0.hasError(\"min\"));\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_20_0 = ctx.villageForm.get(\"areaSqKm\")) == null ? null : tmp_20_0.invalid) && ((tmp_20_0 = ctx.villageForm.get(\"areaSqKm\")) == null ? null : tmp_20_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (tmp_21_0 = ctx.villageForm.get(\"areaSqKm\")) == null ? null : tmp_21_0.hasError(\"min\"));\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_22_0 = ctx.villageForm.get(\"latitude\")) == null ? null : tmp_22_0.invalid) && ((tmp_22_0 = ctx.villageForm.get(\"latitude\")) == null ? null : tmp_22_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_23_0 = ctx.villageForm.get(\"latitude\")) == null ? null : tmp_23_0.hasError(\"min\")) || ((tmp_23_0 = ctx.villageForm.get(\"latitude\")) == null ? null : tmp_23_0.hasError(\"max\")));\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_24_0 = ctx.villageForm.get(\"longitude\")) == null ? null : tmp_24_0.invalid) && ((tmp_24_0 = ctx.villageForm.get(\"longitude\")) == null ? null : tmp_24_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_25_0 = ctx.villageForm.get(\"longitude\")) == null ? null : tmp_25_0.hasError(\"min\")) || ((tmp_25_0 = ctx.villageForm.get(\"longitude\")) == null ? null : tmp_25_0.hasError(\"max\")));\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_26_0 = ctx.villageForm.get(\"executiveOfficer\")) == null ? null : tmp_26_0.invalid) && ((tmp_26_0 = ctx.villageForm.get(\"executiveOfficer\")) == null ? null : tmp_26_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (tmp_27_0 = ctx.villageForm.get(\"executiveOfficer\")) == null ? null : tmp_27_0.hasError(\"maxlength\"));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"value\", true);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"value\", false);\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_30_0 = ctx.villageForm.get(\"description\")) == null ? null : tmp_30_0.invalid) && ((tmp_30_0 = ctx.villageForm.get(\"description\")) == null ? null : tmp_30_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (tmp_31_0 = ctx.villageForm.get(\"description\")) == null ? null : tmp_31_0.hasError(\"maxlength\"));\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"disabled\", ctx.villageForm.invalid || ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", ctx.isEditMode ? \"Update Village\" : \"Create Village\", \" \");\n          }\n        },\n        dependencies: [CommonModule, i7.NgForOf, i7.NgIf, RouterModule, ReactiveFormsModule, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MinValidator, i1.FormGroupDirective, i1.FormControlName],\n        styles: [\".village-form-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 1rem}.card[_ngcontent-%COMP%]{border:none;box-shadow:0 .125rem .25rem #00000013}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #dee2e6}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#495057}.text-danger[_ngcontent-%COMP%]{color:#dc3545!important}.btn[_ngcontent-%COMP%]{font-weight:500}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}\"]\n      });\n    }\n  }\n  return VillageFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}