{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/ward.service\";\nimport * as i2 from \"../../../core/services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = a0 => [\"/wards/edit\", a0];\nfunction WardListComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"div\", 30)(2, \"span\", 31);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 32);\n    i0.ɵɵtext(5, \"Loading wards...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction WardListComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵelement(1, \"i\", 33);\n    i0.ɵɵelementStart(2, \"h5\", 34);\n    i0.ɵɵtext(3, \"No wards found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 3);\n    i0.ɵɵtext(5, \"Try adjusting your search criteria or add a new ward.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"a\", 4);\n    i0.ɵɵelement(7, \"i\", 5);\n    i0.ɵɵtext(8, \" Add First Ward \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction WardListComponent_div_38_i_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 43);\n  }\n}\nfunction WardListComponent_div_38_i_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 44);\n  }\n}\nfunction WardListComponent_div_38_i_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 45);\n  }\n}\nfunction WardListComponent_div_38_i_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 43);\n  }\n}\nfunction WardListComponent_div_38_i_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 44);\n  }\n}\nfunction WardListComponent_div_38_i_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 45);\n  }\n}\nfunction WardListComponent_div_38_tr_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"span\", 46);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\")(5, \"div\")(6, \"strong\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"small\", 3);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"span\", 47);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"td\")(17, \"span\", 48);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\")(26, \"span\", 49);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"td\")(29, \"div\", 50)(30, \"a\", 51);\n    i0.ɵɵelement(31, \"i\", 52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function WardListComponent_div_38_tr_31_Template_button_click_32_listener() {\n      const ward_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onDelete(ward_r4));\n    });\n    i0.ɵɵelement(33, \"i\", 54);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ward_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ward_r4.code);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ward_r4.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ward_r4.executiveOfficer);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ward_r4.headquarters);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ward_r4.districtName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ward_r4.regionName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(21, 14, ward_r4.population));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(24, 16, ward_r4.areaSqKm, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"bg-success\", ward_r4.isActive)(\"bg-danger\", !ward_r4.isActive);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ward_r4.isActive ? \"Active\" : \"Inactive\", \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(19, _c0, ward_r4.uid));\n  }\n}\nfunction WardListComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 35)(1, \"table\", 36)(2, \"thead\", 37)(3, \"tr\")(4, \"th\")(5, \"a\", 38);\n    i0.ɵɵlistener(\"click\", function WardListComponent_div_38_Template_a_click_5_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onSort(\"code\", $event));\n    });\n    i0.ɵɵtext(6, \" Code \");\n    i0.ɵɵtemplate(7, WardListComponent_div_38_i_7_Template, 1, 0, \"i\", 39)(8, WardListComponent_div_38_i_8_Template, 1, 0, \"i\", 40)(9, WardListComponent_div_38_i_9_Template, 1, 0, \"i\", 41);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"th\")(11, \"a\", 38);\n    i0.ɵɵlistener(\"click\", function WardListComponent_div_38_Template_a_click_11_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onSort(\"name\", $event));\n    });\n    i0.ɵɵtext(12, \" Name \");\n    i0.ɵɵtemplate(13, WardListComponent_div_38_i_13_Template, 1, 0, \"i\", 39)(14, WardListComponent_div_38_i_14_Template, 1, 0, \"i\", 40)(15, WardListComponent_div_38_i_15_Template, 1, 0, \"i\", 41);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"Headquarters\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\");\n    i0.ɵɵtext(19, \"District\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\");\n    i0.ɵɵtext(21, \"Region\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\");\n    i0.ɵɵtext(23, \"Population\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\");\n    i0.ɵɵtext(25, \"Area (km\\u00B2)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\");\n    i0.ɵɵtext(27, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\");\n    i0.ɵɵtext(29, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(30, \"tbody\");\n    i0.ɵɵtemplate(31, WardListComponent_div_38_tr_31_Template, 34, 21, \"tr\", 42);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.sortBy !== \"code\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.sortBy === \"code\" && ctx_r1.sortDir === \"asc\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.sortBy === \"code\" && ctx_r1.sortDir === \"desc\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.sortBy !== \"name\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.sortBy === \"name\" && ctx_r1.sortDir === \"asc\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.sortBy === \"name\" && ctx_r1.sortDir === \"desc\");\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.wards);\n  }\n}\nfunction WardListComponent_div_39_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 58)(1, \"a\", 59);\n    i0.ɵɵlistener(\"click\", function WardListComponent_div_39_li_6_Template_a_click_1_listener($event) {\n      const page_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onPageChange(page_r7, $event));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const page_r7 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"active\", page_r7 === ctx_r1.currentPage);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(page_r7 + 1);\n  }\n}\nfunction WardListComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 55)(1, \"nav\", 56)(2, \"ul\", 57)(3, \"li\", 58)(4, \"a\", 59);\n    i0.ɵɵlistener(\"click\", function WardListComponent_div_39_Template_a_click_4_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onPageChange(ctx_r1.currentPage - 1, $event));\n    });\n    i0.ɵɵtext(5, \"Previous\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, WardListComponent_div_39_li_6_Template, 3, 3, \"li\", 60);\n    i0.ɵɵelementStart(7, \"li\", 58)(8, \"a\", 59);\n    i0.ɵɵlistener(\"click\", function WardListComponent_div_39_Template_a_click_8_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onPageChange(ctx_r1.currentPage + 1, $event));\n    });\n    i0.ɵɵtext(9, \"Next\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"disabled\", ctx_r1.currentPage === 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getPageNumbers());\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"disabled\", ctx_r1.currentPage === ctx_r1.totalPages - 1);\n  }\n}\nexport class WardListComponent {\n  constructor(wardService, authService, router) {\n    this.wardService = wardService;\n    this.authService = authService;\n    this.router = router;\n    this.wards = [];\n    // Search properties\n    this.searchTerm = '';\n    // Pagination properties\n    this.currentPage = 0;\n    this.pageSize = 10;\n    this.totalElements = 0;\n    this.totalPages = 0;\n    // Sorting properties\n    this.sortBy = 'name';\n    this.sortDir = 'asc';\n    // Loading state\n    this.isLoading = false;\n  }\n  ngOnInit() {\n    console.log('WardListComponent initialized');\n    const token = this.authService.getToken();\n    const isAuthenticated = this.authService.isAuthenticated();\n    const currentUser = this.authService.getCurrentUser();\n    console.log('Auth Debug Info:');\n    console.log('- Token exists:', !!token);\n    console.log('- Token value:', token ? token.substring(0, 50) + '...' : 'No token');\n    console.log('- Is authenticated:', isAuthenticated);\n    console.log('- Current user:', currentUser);\n    if (!isAuthenticated) {\n      console.error('User not authenticated! Redirecting to login...');\n      this.router.navigate(['/login']);\n      return;\n    }\n    this.loadRegions();\n    this.loadDistricts();\n    this.loadWards();\n  }\n  loadRegions() {\n    this.regionService.getAllRegions(0, 1000).subscribe({\n      next: response => {\n        this.regions = response.data || [];\n      },\n      error: error => {\n        console.error('Error loading regions:', error);\n      }\n    });\n  }\n  loadDistricts() {\n    this.districtService.getAllDistricts(0, 1000).subscribe({\n      next: response => {\n        this.districts = response.data || [];\n        this.filteredDistricts = this.districts;\n      },\n      error: error => {\n        console.error('Error loading districts:', error);\n      }\n    });\n  }\n  loadWards() {\n    this.isLoading = true;\n    const observable = this.searchTerm ? this.wardService.searchWards(this.searchTerm, this.currentPage, this.pageSize, this.sortBy, this.sortDir) : this.wardService.getAllWards(this.currentPage, this.pageSize, this.sortBy, this.sortDir);\n    observable.subscribe({\n      next: response => {\n        this.isLoading = false;\n        console.log('Wards API Response:', response);\n        this.wards = response.data || [];\n        this.totalElements = response.totalElements || 0;\n        this.totalPages = response.totalPages || 0;\n        console.log('Loaded wards:', this.wards.length);\n      },\n      error: error => {\n        this.isLoading = false;\n        console.error('Error loading wards:', error);\n        console.error('Error status:', error.status);\n        console.error('Error details:', error.error);\n        if (error.status === 403) {\n          console.error('403 Forbidden - Authentication/Authorization issue');\n          console.error('Current token:', this.authService.getToken());\n          alert('Access denied. Please log in again.');\n          this.authService.logout();\n          this.router.navigate(['/login']);\n        } else if (error.status === 401) {\n          console.error('401 Unauthorized - Token expired or invalid');\n          alert('Session expired. Please log in again.');\n          this.authService.logout();\n          this.router.navigate(['/login']);\n        } else {\n          alert(`Error loading wards: ${error.error?.message || error.message || 'Unknown error'}`);\n        }\n      }\n    });\n  }\n  onSearch() {\n    this.currentPage = 0;\n    this.loadWards();\n  }\n  onSort(field, event) {\n    event.preventDefault();\n    if (this.sortBy === field) {\n      this.sortDir = this.sortDir === 'asc' ? 'desc' : 'asc';\n    } else {\n      this.sortBy = field;\n      this.sortDir = 'asc';\n    }\n    this.currentPage = 0;\n    this.loadWards();\n  }\n  onPageChange(page, event) {\n    event.preventDefault();\n    if (page >= 0 && page < this.totalPages) {\n      this.currentPage = page;\n      this.loadWards();\n    }\n  }\n  onPageSizeChange() {\n    this.currentPage = 0;\n    this.loadWards();\n  }\n  onDelete(ward) {\n    if (confirm(`Are you sure you want to delete the ward \"${ward.name}\"?`)) {\n      this.wardService.deleteWard(ward.uid).subscribe({\n        next: response => {\n          if (response.status) {\n            alert('Ward deleted successfully!');\n            this.loadWards();\n          }\n        },\n        error: error => {\n          console.error('Error deleting ward:', error);\n          alert(`Error deleting ward: ${error.error?.message || error.message || 'Unknown error'}`);\n        }\n      });\n    }\n  }\n  getPageNumbers() {\n    const pages = [];\n    const start = Math.max(0, this.currentPage - 2);\n    const end = Math.min(this.totalPages - 1, this.currentPage + 2);\n    for (let i = start; i <= end; i++) {\n      pages.push(i);\n    }\n    return pages;\n  }\n  static {\n    this.ɵfac = function WardListComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || WardListComponent)(i0.ɵɵdirectiveInject(i1.WardService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: WardListComponent,\n      selectors: [[\"app-ward-list\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 40,\n      vars: 7,\n      consts: [[1, \"ward-list-container\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"h3\", \"mb-1\"], [1, \"text-muted\"], [\"routerLink\", \"/wards/create\", 1, \"btn\", \"btn-primary\"], [1, \"bi\", \"bi-plus-circle\", \"me-1\"], [1, \"card\", \"mb-4\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"input-group\"], [1, \"input-group-text\"], [1, \"bi\", \"bi-search\"], [\"type\", \"text\", \"placeholder\", \"Search wards...\", 1, \"form-control\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [1, \"card\"], [1, \"card-header\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"card-title\", \"mb-0\"], [1, \"bi\", \"bi-building\", \"me-2\"], [1, \"d-flex\", \"align-items-center\"], [\"for\", \"pageSize\", 1, \"form-label\", \"me-2\", \"mb-0\"], [\"id\", \"pageSize\", 1, \"form-select\", \"form-select-sm\", 2, \"width\", \"auto\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"10\"], [\"value\", \"25\"], [\"value\", \"50\"], [\"value\", \"100\"], [1, \"card-body\", \"p-0\"], [\"class\", \"text-center p-4\", 4, \"ngIf\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [\"class\", \"card-footer\", 4, \"ngIf\"], [1, \"text-center\", \"p-4\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"mt-2\", \"text-muted\"], [1, \"bi\", \"bi-building\", \"text-muted\", 2, \"font-size\", \"3rem\"], [1, \"mt-3\", \"text-muted\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\", \"mb-0\"], [1, \"table-light\"], [\"href\", \"#\", 1, \"text-decoration-none\", 3, \"click\"], [\"class\", \"bi bi-arrow-down-up ms-1\", 4, \"ngIf\"], [\"class\", \"bi bi-arrow-up\", 4, \"ngIf\"], [\"class\", \"bi bi-arrow-down\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"bi\", \"bi-arrow-down-up\", \"ms-1\"], [1, \"bi\", \"bi-arrow-up\"], [1, \"bi\", \"bi-arrow-down\"], [1, \"badge\", \"bg-secondary\"], [1, \"badge\", \"bg-info\"], [1, \"badge\", \"bg-primary\"], [1, \"badge\"], [\"role\", \"group\", 1, \"btn-group\", \"btn-group-sm\"], [\"title\", \"Edit\", 1, \"btn\", \"btn-outline-primary\", 3, \"routerLink\"], [1, \"bi\", \"bi-pencil\"], [\"title\", \"Delete\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"bi\", \"bi-trash\"], [1, \"card-footer\"], [\"aria-label\", \"Wards pagination\"], [1, \"pagination\", \"pagination-sm\", \"justify-content-center\", \"mb-0\"], [1, \"page-item\"], [\"href\", \"#\", 1, \"page-link\", 3, \"click\"], [\"class\", \"page-item\", 3, \"active\", 4, \"ngFor\", \"ngForOf\"]],\n      template: function WardListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h1\", 2);\n          i0.ɵɵtext(4, \"Wards Management\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 3);\n          i0.ɵɵtext(6, \"Manage all wards in the system\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"a\", 4);\n          i0.ɵɵelement(8, \"i\", 5);\n          i0.ɵɵtext(9, \" Add New Ward \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7)(12, \"div\", 8)(13, \"div\", 9)(14, \"div\", 10)(15, \"span\", 11);\n          i0.ɵɵelement(16, \"i\", 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"input\", 13);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function WardListComponent_Template_input_ngModelChange_17_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.searchTerm, $event) || (ctx.searchTerm = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"input\", function WardListComponent_Template_input_input_17_listener() {\n            return ctx.onSearch();\n          });\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(18, \"div\", 14)(19, \"div\", 15)(20, \"h5\", 16);\n          i0.ɵɵelement(21, \"i\", 17);\n          i0.ɵɵtext(22);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"div\", 18)(24, \"label\", 19);\n          i0.ɵɵtext(25, \"Show:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"select\", 20);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function WardListComponent_Template_select_ngModelChange_26_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.pageSize, $event) || (ctx.pageSize = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"change\", function WardListComponent_Template_select_change_26_listener() {\n            return ctx.onPageSizeChange();\n          });\n          i0.ɵɵelementStart(27, \"option\", 21);\n          i0.ɵɵtext(28, \"10\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"option\", 22);\n          i0.ɵɵtext(30, \"25\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"option\", 23);\n          i0.ɵɵtext(32, \"50\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"option\", 24);\n          i0.ɵɵtext(34, \"100\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(35, \"div\", 25);\n          i0.ɵɵtemplate(36, WardListComponent_div_36_Template, 6, 0, \"div\", 26)(37, WardListComponent_div_37_Template, 9, 0, \"div\", 26)(38, WardListComponent_div_38_Template, 32, 7, \"div\", 27);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(39, WardListComponent_div_39_Template, 10, 5, \"div\", 28);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(17);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchTerm);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" Wards (\", ctx.totalElements, \" total) \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.pageSize);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.wards.length === 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.wards.length > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.totalPages > 1);\n        }\n      },\n      dependencies: [CommonModule, i4.NgForOf, i4.NgIf, i4.DecimalPipe, RouterModule, i3.RouterLink, FormsModule, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel],\n      styles: [\".ward-list-container[_ngcontent-%COMP%] {\\n  max-width: 1400px;\\n  margin: 0 auto;\\n  padding: 0 1rem;\\n}\\n\\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  border-top: none;\\n  font-weight: 600;\\n  color: #495057;\\n}\\n\\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  vertical-align: middle;\\n}\\n\\n.badge[_ngcontent-%COMP%] {\\n  font-size: 0.75rem;\\n}\\n\\n.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\n  padding: 0.25rem 0.5rem;\\n}\\n\\n.pagination[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  border: none;\\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\\n}\\n\\n.card-header[_ngcontent-%COMP%] {\\n  background-color: #f8f9fa;\\n  border-bottom: 1px solid #dee2e6;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvd2FyZHMvd2FyZC1saXN0L3dhcmQtbGlzdC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDRSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0FBQU47O0FBR0k7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtBQUFOOztBQUdJO0VBQ0Usc0JBQUE7QUFBTjs7QUFHSTtFQUNFLGtCQUFBO0FBQU47O0FBR0k7RUFDRSx1QkFBQTtBQUFOOztBQUdJO0VBQ0UsZ0JBQUE7QUFBTjs7QUFHSTtFQUNFLFlBQUE7RUFDQSxtREFBQTtBQUFOOztBQUdJO0VBQ0UseUJBQUE7RUFDQSxnQ0FBQTtBQUFOIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgLndhcmQtbGlzdC1jb250YWluZXIge1xuICAgICAgbWF4LXdpZHRoOiAxNDAwcHg7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIHBhZGRpbmc6IDAgMXJlbTtcbiAgICB9XG5cbiAgICAudGFibGUgdGgge1xuICAgICAgYm9yZGVyLXRvcDogbm9uZTtcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICBjb2xvcjogIzQ5NTA1NztcbiAgICB9XG5cbiAgICAudGFibGUgdGQge1xuICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICB9XG5cbiAgICAuYmFkZ2Uge1xuICAgICAgZm9udC1zaXplOiAwLjc1cmVtO1xuICAgIH1cblxuICAgIC5idG4tZ3JvdXAtc20gLmJ0biB7XG4gICAgICBwYWRkaW5nOiAwLjI1cmVtIDAuNXJlbTtcbiAgICB9XG5cbiAgICAucGFnaW5hdGlvbiB7XG4gICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgIH1cblxuICAgIC5jYXJkIHtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIGJveC1zaGFkb3c6IDAgMC4xMjVyZW0gMC4yNXJlbSByZ2JhKDAsIDAsIDAsIDAuMDc1KTtcbiAgICB9XG5cbiAgICAuY2FyZC1oZWFkZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGVlMmU2O1xuICAgIH1cbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","RouterModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","WardListComponent_div_38_tr_31_Template_button_click_32_listener","ward_r4","ɵɵrestoreView","_r3","$implicit","ctx_r1","ɵɵnextContext","ɵɵresetView","onDelete","ɵɵadvance","ɵɵtextInterpolate","code","name","executiveOfficer","headquarters","districtName","regionName","ɵɵpipeBind1","population","ɵɵpipeBind2","areaSqKm","ɵɵclassProp","isActive","ɵɵtextInterpolate1","ɵɵproperty","ɵɵpureFunction1","_c0","uid","WardListComponent_div_38_Template_a_click_5_listener","$event","_r1","onSort","ɵɵtemplate","WardListComponent_div_38_i_7_Template","WardListComponent_div_38_i_8_Template","WardListComponent_div_38_i_9_Template","WardListComponent_div_38_Template_a_click_11_listener","WardListComponent_div_38_i_13_Template","WardListComponent_div_38_i_14_Template","WardListComponent_div_38_i_15_Template","WardListComponent_div_38_tr_31_Template","sortBy","sortDir","wards","WardListComponent_div_39_li_6_Template_a_click_1_listener","page_r7","_r6","onPageChange","currentPage","WardListComponent_div_39_Template_a_click_4_listener","_r5","WardListComponent_div_39_li_6_Template","WardListComponent_div_39_Template_a_click_8_listener","getPageNumbers","totalPages","WardListComponent","constructor","wardService","authService","router","searchTerm","pageSize","totalElements","isLoading","ngOnInit","console","log","token","getToken","isAuthenticated","currentUser","getCurrentUser","substring","error","navigate","loadRegions","loadDistricts","loadWards","regionService","getAllRegions","subscribe","next","response","regions","data","districtService","getAllDistricts","districts","filteredDistricts","observable","searchWards","getAllWards","length","status","alert","logout","message","onSearch","field","event","preventDefault","page","onPageSizeChange","ward","confirm","deleteWard","pages","start","Math","max","end","min","i","push","ɵɵdirectiveInject","i1","WardService","i2","AuthService","i3","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","WardListComponent_Template","rf","ctx","ɵɵtwoWayListener","WardListComponent_Template_input_ngModelChange_17_listener","ɵɵtwoWayBindingSet","WardListComponent_Template_input_input_17_listener","WardListComponent_Template_select_ngModelChange_26_listener","WardListComponent_Template_select_change_26_listener","WardListComponent_div_36_Template","WardListComponent_div_37_Template","WardListComponent_div_38_Template","WardListComponent_div_39_Template","ɵɵtwoWayProperty","i4","NgForOf","NgIf","DecimalPipe","RouterLink","i5","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgModel","styles"],"sources":["D:\\My_Works\\Taarifu_Project\\taarifu-engine-dash\\src\\app\\features\\wards\\ward-list\\ward-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { WardService } from '../../../core/services/ward.service';\r\nimport { AuthService } from '../../../core/services/auth.service';\r\nimport { Router } from '@angular/router';\r\nimport { Ward } from '../../../core/models/ward.model';\r\n\r\n@Component({\r\n  selector: 'app-ward-list',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    FormsModule\r\n  ],\r\n  template: `\r\n    <div class=\"ward-list-container\">\r\n      <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <div>\r\n          <h1 class=\"h3 mb-1\">Wards Management</h1>\r\n          <p class=\"text-muted\">Manage all wards in the system</p>\r\n        </div>\r\n        <a routerLink=\"/wards/create\" class=\"btn btn-primary\">\r\n          <i class=\"bi bi-plus-circle me-1\"></i>\r\n          Add New Ward\r\n        </a>\r\n      </div>\r\n\r\n      <!-- Search Section -->\r\n      <div class=\"card mb-4\">\r\n        <div class=\"card-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n              <div class=\"input-group\">\r\n                <span class=\"input-group-text\"><i class=\"bi bi-search\"></i></span>\r\n                <input \r\n                  type=\"text\" \r\n                  class=\"form-control\" \r\n                  placeholder=\"Search wards...\" \r\n                  [(ngModel)]=\"searchTerm\" \r\n                  (input)=\"onSearch()\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Wards Table -->\r\n      <div class=\"card\">\r\n        <div class=\"card-header d-flex justify-content-between align-items-center\">\r\n          <h5 class=\"card-title mb-0\">\r\n            <i class=\"bi bi-building me-2\"></i>\r\n            Wards ({{ totalElements }} total)\r\n          </h5>\r\n          <div class=\"d-flex align-items-center\">\r\n            <label for=\"pageSize\" class=\"form-label me-2 mb-0\">Show:</label>\r\n            <select class=\"form-select form-select-sm\" id=\"pageSize\" [(ngModel)]=\"pageSize\" (change)=\"onPageSizeChange()\" style=\"width: auto;\">\r\n              <option value=\"10\">10</option>\r\n              <option value=\"25\">25</option>\r\n              <option value=\"50\">50</option>\r\n              <option value=\"100\">100</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"card-body p-0\">\r\n          <div *ngIf=\"isLoading\" class=\"text-center p-4\">\r\n            <div class=\"spinner-border text-primary\" role=\"status\">\r\n              <span class=\"visually-hidden\">Loading...</span>\r\n            </div>\r\n            <p class=\"mt-2 text-muted\">Loading wards...</p>\r\n          </div>\r\n\r\n          <div *ngIf=\"!isLoading && wards.length === 0\" class=\"text-center p-4\">\r\n            <i class=\"bi bi-building text-muted\" style=\"font-size: 3rem;\"></i>\r\n            <h5 class=\"mt-3 text-muted\">No wards found</h5>\r\n            <p class=\"text-muted\">Try adjusting your search criteria or add a new ward.</p>\r\n            <a routerLink=\"/wards/create\" class=\"btn btn-primary\">\r\n              <i class=\"bi bi-plus-circle me-1\"></i>\r\n              Add First Ward\r\n            </a>\r\n          </div>\r\n\r\n          <div *ngIf=\"!isLoading && wards.length > 0\" class=\"table-responsive\">\r\n            <table class=\"table table-hover mb-0\">\r\n              <thead class=\"table-light\">\r\n                <tr>\r\n                  <th>\r\n                    <a href=\"#\" (click)=\"onSort('code', $event)\" class=\"text-decoration-none\">\r\n                      Code\r\n                      <i class=\"bi bi-arrow-down-up ms-1\" *ngIf=\"sortBy !== 'code'\"></i>\r\n                      <i class=\"bi bi-arrow-up\" *ngIf=\"sortBy === 'code' && sortDir === 'asc'\"></i>\r\n                      <i class=\"bi bi-arrow-down\" *ngIf=\"sortBy === 'code' && sortDir === 'desc'\"></i>\r\n                    </a>\r\n                  </th>\r\n                  <th>\r\n                    <a href=\"#\" (click)=\"onSort('name', $event)\" class=\"text-decoration-none\">\r\n                      Name\r\n                      <i class=\"bi bi-arrow-down-up ms-1\" *ngIf=\"sortBy !== 'name'\"></i>\r\n                      <i class=\"bi bi-arrow-up\" *ngIf=\"sortBy === 'name' && sortDir === 'asc'\"></i>\r\n                      <i class=\"bi bi-arrow-down\" *ngIf=\"sortBy === 'name' && sortDir === 'desc'\"></i>\r\n                    </a>\r\n                  </th>\r\n                  <th>Headquarters</th>\r\n                  <th>District</th>\r\n                  <th>Region</th>\r\n                  <th>Population</th>\r\n                  <th>Area (km²)</th>\r\n                  <th>Status</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr *ngFor=\"let ward of wards\">\r\n                  <td>\r\n                    <span class=\"badge bg-secondary\">{{ ward.code }}</span>\r\n                  </td>\r\n                  <td>\r\n                    <div>\r\n                      <strong>{{ ward.name }}</strong>\r\n                      <br>\r\n                      <small class=\"text-muted\">{{ ward.executiveOfficer }}</small>\r\n                    </div>\r\n                  </td>\r\n                  <td>{{ ward.headquarters }}</td>\r\n                  <td>\r\n                    <span class=\"badge bg-info\">{{ ward.districtName }}</span>\r\n                  </td>\r\n                  <td>\r\n                    <span class=\"badge bg-primary\">{{ ward.regionName }}</span>\r\n                  </td>\r\n                  <td>{{ ward.population | number }}</td>\r\n                  <td>{{ ward.areaSqKm | number:'1.1-1' }}</td>\r\n                  <td>\r\n                    <span class=\"badge\" [class.bg-success]=\"ward.isActive\" [class.bg-danger]=\"!ward.isActive\">\r\n                      {{ ward.isActive ? 'Active' : 'Inactive' }}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"btn-group btn-group-sm\" role=\"group\">\r\n                      <a [routerLink]=\"['/wards/edit', ward.uid]\" class=\"btn btn-outline-primary\" title=\"Edit\">\r\n                        <i class=\"bi bi-pencil\"></i>\r\n                      </a>\r\n                      <button class=\"btn btn-outline-danger\" (click)=\"onDelete(ward)\" title=\"Delete\">\r\n                        <i class=\"bi bi-trash\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Pagination -->\r\n        <div *ngIf=\"!isLoading && totalPages > 1\" class=\"card-footer\">\r\n          <nav aria-label=\"Wards pagination\">\r\n            <ul class=\"pagination pagination-sm justify-content-center mb-0\">\r\n              <li class=\"page-item\" [class.disabled]=\"currentPage === 0\">\r\n                <a class=\"page-link\" href=\"#\" (click)=\"onPageChange(currentPage - 1, $event)\">Previous</a>\r\n              </li>\r\n              \r\n              <li *ngFor=\"let page of getPageNumbers()\" class=\"page-item\" [class.active]=\"page === currentPage\">\r\n                <a class=\"page-link\" href=\"#\" (click)=\"onPageChange(page, $event)\">{{ page + 1 }}</a>\r\n              </li>\r\n              \r\n              <li class=\"page-item\" [class.disabled]=\"currentPage === totalPages - 1\">\r\n                <a class=\"page-link\" href=\"#\" (click)=\"onPageChange(currentPage + 1, $event)\">Next</a>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .ward-list-container {\r\n      max-width: 1400px;\r\n      margin: 0 auto;\r\n      padding: 0 1rem;\r\n    }\r\n\r\n    .table th {\r\n      border-top: none;\r\n      font-weight: 600;\r\n      color: #495057;\r\n    }\r\n\r\n    .table td {\r\n      vertical-align: middle;\r\n    }\r\n\r\n    .badge {\r\n      font-size: 0.75rem;\r\n    }\r\n\r\n    .btn-group-sm .btn {\r\n      padding: 0.25rem 0.5rem;\r\n    }\r\n\r\n    .pagination {\r\n      margin-bottom: 0;\r\n    }\r\n\r\n    .card {\r\n      border: none;\r\n      box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\r\n    }\r\n\r\n    .card-header {\r\n      background-color: #f8f9fa;\r\n      border-bottom: 1px solid #dee2e6;\r\n    }\r\n  `]\r\n})\r\nexport class WardListComponent implements OnInit {\r\n  wards: Ward[] = [];\r\n  \r\n  // Search properties\r\n  searchTerm = '';\r\n  \r\n  // Pagination properties\r\n  currentPage = 0;\r\n  pageSize = 10;\r\n  totalElements = 0;\r\n  totalPages = 0;\r\n  \r\n  // Sorting properties\r\n  sortBy = 'name';\r\n  sortDir: 'asc' | 'desc' = 'asc';\r\n  \r\n  // Loading state\r\n  isLoading = false;\r\n\r\n  constructor(\r\n    private wardService: WardService,\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    console.log('WardListComponent initialized');\r\n    const token = this.authService.getToken();\r\n    const isAuthenticated = this.authService.isAuthenticated();\r\n    const currentUser = this.authService.getCurrentUser();\r\n    console.log('Auth Debug Info:');\r\n    console.log('- Token exists:', !!token);\r\n    console.log('- Token value:', token ? token.substring(0, 50) + '...' : 'No token');\r\n    console.log('- Is authenticated:', isAuthenticated);\r\n    console.log('- Current user:', currentUser);\r\n    \r\n    if (!isAuthenticated) {\r\n      console.error('User not authenticated! Redirecting to login...');\r\n      this.router.navigate(['/login']);\r\n      return;\r\n    }\r\n    \r\n    this.loadRegions();\r\n    this.loadDistricts();\r\n    this.loadWards();\r\n  }\r\n\r\n  loadRegions() {\r\n    this.regionService.getAllRegions(0, 1000).subscribe({\r\n      next: (response: any) => {\r\n        this.regions = response.data || [];\r\n      },\r\n      error: (error: any) => {\r\n        console.error('Error loading regions:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadDistricts() {\r\n    this.districtService.getAllDistricts(0, 1000).subscribe({\r\n      next: (response: any) => {\r\n        this.districts = response.data || [];\r\n        this.filteredDistricts = this.districts;\r\n      },\r\n      error: (error: any) => {\r\n        console.error('Error loading districts:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadWards() {\r\n    this.isLoading = true;\r\n    \r\n    const observable = this.searchTerm \r\n      ? this.wardService.searchWards(this.searchTerm, this.currentPage, this.pageSize, this.sortBy, this.sortDir)\r\n      : this.wardService.getAllWards(this.currentPage, this.pageSize, this.sortBy, this.sortDir);\r\n\r\n    observable.subscribe({\r\n      next: (response) => {\r\n        this.isLoading = false;\r\n        console.log('Wards API Response:', response);\r\n        this.wards = response.data || [];\r\n        this.totalElements = response.totalElements || 0;\r\n        this.totalPages = response.totalPages || 0;\r\n        console.log('Loaded wards:', this.wards.length);\r\n      },\r\n      error: (error) => {\r\n        this.isLoading = false;\r\n        console.error('Error loading wards:', error);\r\n        console.error('Error status:', error.status);\r\n        console.error('Error details:', error.error);\r\n        \r\n        if (error.status === 403) {\r\n          console.error('403 Forbidden - Authentication/Authorization issue');\r\n          console.error('Current token:', this.authService.getToken());\r\n          alert('Access denied. Please log in again.');\r\n          this.authService.logout();\r\n          this.router.navigate(['/login']);\r\n        } else if (error.status === 401) {\r\n          console.error('401 Unauthorized - Token expired or invalid');\r\n          alert('Session expired. Please log in again.');\r\n          this.authService.logout();\r\n          this.router.navigate(['/login']);\r\n        } else {\r\n          alert(`Error loading wards: ${error.error?.message || error.message || 'Unknown error'}`);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  onSearch() {\r\n    this.currentPage = 0;\r\n    this.loadWards();\r\n  }\r\n\r\n\r\n  onSort(field: string, event: Event) {\r\n    event.preventDefault();\r\n    \r\n    if (this.sortBy === field) {\r\n      this.sortDir = this.sortDir === 'asc' ? 'desc' : 'asc';\r\n    } else {\r\n      this.sortBy = field;\r\n      this.sortDir = 'asc';\r\n    }\r\n    \r\n    this.currentPage = 0;\r\n    this.loadWards();\r\n  }\r\n\r\n  onPageChange(page: number, event: Event) {\r\n    event.preventDefault();\r\n    if (page >= 0 && page < this.totalPages) {\r\n      this.currentPage = page;\r\n      this.loadWards();\r\n    }\r\n  }\r\n\r\n  onPageSizeChange() {\r\n    this.currentPage = 0;\r\n    this.loadWards();\r\n  }\r\n\r\n  onDelete(ward: Ward) {\r\n    if (confirm(`Are you sure you want to delete the ward \"${ward.name}\"?`)) {\r\n      this.wardService.deleteWard(ward.uid).subscribe({\r\n        next: (response) => {\r\n          if (response.status) {\r\n            alert('Ward deleted successfully!');\r\n            this.loadWards();\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Error deleting ward:', error);\r\n          alert(`Error deleting ward: ${error.error?.message || error.message || 'Unknown error'}`);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  getPageNumbers(): number[] {\r\n    const pages: number[] = [];\r\n    const start = Math.max(0, this.currentPage - 2);\r\n    const end = Math.min(this.totalPages - 1, this.currentPage + 2);\r\n    \r\n    for (let i = start; i <= end; i++) {\r\n      pages.push(i);\r\n    }\r\n    \r\n    return pages;\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}