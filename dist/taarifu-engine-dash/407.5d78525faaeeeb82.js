"use strict";(self.webpackChunktaarifu_engine_dash=self.webpackChunktaarifu_engine_dash||[]).push([[407],{6407:(mt,E,n)=>{n.r(E),n.d(E,{PoliticalPartyFormComponent:()=>st});var k=n(177),l=n(4341),_=n(1069),t=n(4438),Y=n(9934),w=n(5423);function V(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Party name is required "),t.k0s())}function O(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Party name must be at least 2 characters "),t.k0s())}function B(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Party name must not exceed 200 characters "),t.k0s())}function W(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Abbreviation is required "),t.k0s())}function X(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Abbreviation must be at least 2 characters "),t.k0s())}function K(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Abbreviation must not exceed 20 characters "),t.k0s())}function H(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Description must not exceed 2000 characters "),t.k0s())}function Z(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Founding location must not exceed 200 characters "),t.k0s())}function J(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Ideology must not exceed 500 characters "),t.k0s())}function Q(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Colors must not exceed 100 characters "),t.k0s())}function z(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Symbol must not exceed 200 characters "),t.k0s())}function tt(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Motto must not exceed 300 characters "),t.k0s())}function it(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Website URL must not exceed 500 characters "),t.k0s())}function et(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Email must not exceed 100 characters "),t.k0s())}function rt(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Phone must not exceed 20 characters "),t.k0s())}function ot(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Headquarters address must not exceed 500 characters "),t.k0s())}function lt(r,a){1&r&&(t.j41(0,"div",69),t.EFF(1," Registration number must not exceed 50 characters "),t.k0s())}function at(r,a){1&r&&t.nrm(0,"span",70)}function nt(r,a){1&r&&t.nrm(0,"i",71)}let st=(()=>{class r{constructor(e,o,i,s,m){this.fb=e,this.politicalPartyService=o,this.toastService=i,this.router=s,this.route=m,this.isEditMode=!1,this.isSubmitting=!1,this.politicalPartyId=null,this.politicalPartyForm=this.createForm()}ngOnInit(){this.route.params.subscribe(e=>{this.politicalPartyId=e.uid,this.politicalPartyId&&(this.isEditMode=!0,this.loadPoliticalParty())})}createForm(){return this.fb.group({name:["",[l.k0.required,l.k0.minLength(2),l.k0.maxLength(200)]],abbreviation:["",[l.k0.required,l.k0.minLength(2),l.k0.maxLength(20)]],description:["",[l.k0.maxLength(2e3)]],foundingDate:[""],foundingLocation:["",[l.k0.maxLength(200)]],ideology:["",[l.k0.maxLength(500)]],colors:["",[l.k0.maxLength(100)]],symbol:["",[l.k0.maxLength(200)]],motto:["",[l.k0.maxLength(300)]],websiteUrl:["",[l.k0.maxLength(500)]],email:["",[l.k0.maxLength(100)]],phone:["",[l.k0.maxLength(20)]],headquartersAddress:["",[l.k0.maxLength(500)]],isRegistered:[!0],isActive:[!0],registrationNumber:["",[l.k0.maxLength(50)]],registrationDate:[""],memberCount:[null]})}loadPoliticalParty(){this.politicalPartyId&&this.politicalPartyService.getPoliticalPartyByUid(this.politicalPartyId).subscribe({next:e=>{if(e.status){const o=e.data;this.politicalPartyForm.patchValue({name:o.name,abbreviation:o.abbreviation,description:o.description,foundingDate:o.foundingDate?o.foundingDate.split("T")[0]:"",foundingLocation:o.foundingLocation,ideology:o.ideology,colors:o.colors,symbol:o.symbol,motto:o.motto,websiteUrl:o.websiteUrl,email:o.email,phone:o.phone,headquartersAddress:o.headquartersAddress,isRegistered:o.isRegistered,isActive:o.isActive,registrationNumber:o.registrationNumber,registrationDate:o.registrationDate?o.registrationDate.split("T")[0]:"",memberCount:o.memberCount})}else this.toastService.error("Error","Failed to load political party"),this.router.navigate(["/political-parties"])},error:e=>{console.error("Error loading political party:",e),this.toastService.error("Error","Failed to load political party. Please try again."),this.router.navigate(["/political-parties"])}})}onSubmit(){if(this.politicalPartyForm.valid){this.isSubmitting=!0;const e=this.politicalPartyForm.value;this.isEditMode&&this.politicalPartyId?this.politicalPartyService.updatePoliticalPartyByUid(this.politicalPartyId,{name:e.name,abbreviation:e.abbreviation,description:e.description,foundingDate:e.foundingDate,foundingLocation:e.foundingLocation,ideology:e.ideology,colors:e.colors,symbol:e.symbol,motto:e.motto,websiteUrl:e.websiteUrl,email:e.email,phone:e.phone,headquartersAddress:e.headquartersAddress,isRegistered:e.isRegistered,isActive:e.isActive,registrationNumber:e.registrationNumber,registrationDate:e.registrationDate,memberCount:e.memberCount}).subscribe({next:i=>{this.isSubmitting=!1,i.status?(this.toastService.success("Success","Political party updated successfully"),this.router.navigate(["/political-parties"])):this.toastService.error("Error","Failed to update political party")},error:i=>{this.isSubmitting=!1,console.error("Error updating political party:",i),this.toastService.error("Error","Failed to update political party. Please try again.")}}):this.politicalPartyService.createPoliticalParty({name:e.name,abbreviation:e.abbreviation,description:e.description,foundingDate:e.foundingDate,foundingLocation:e.foundingLocation,ideology:e.ideology,colors:e.colors,symbol:e.symbol,motto:e.motto,websiteUrl:e.websiteUrl,email:e.email,phone:e.phone,headquartersAddress:e.headquartersAddress,isRegistered:e.isRegistered,isActive:e.isActive,registrationNumber:e.registrationNumber,registrationDate:e.registrationDate,memberCount:e.memberCount}).subscribe({next:i=>{this.isSubmitting=!1,i.status?(this.toastService.success("Success","Political party created successfully"),this.router.navigate(["/political-parties"])):this.toastService.error("Error","Failed to create political party")},error:i=>{this.isSubmitting=!1,console.error("Error creating political party:",i),this.toastService.error("Error","Failed to create political party. Please try again.")}})}}onCancel(){this.router.navigate(["/political-parties"])}static{this.\u0275fac=function(o){return new(o||r)(t.rXU(l.ok),t.rXU(Y.L),t.rXU(w.f),t.rXU(_.Ix),t.rXU(_.nX))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-political-party-form"]],standalone:!0,features:[t.aNF],decls:184,vars:49,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-8"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"bi","bi-flag","me-2"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"text-primary","border-bottom","pb-2"],[1,"col-md-6"],["for","name",1,"form-label"],[1,"text-danger"],["type","text","id","name","formControlName","name","placeholder","Enter political party name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","abbreviation",1,"form-label"],["type","text","id","abbreviation","formControlName","abbreviation","placeholder","Enter party abbreviation",1,"form-control"],["for","description",1,"form-label"],["id","description","formControlName","description","rows","3","placeholder","Enter party description",1,"form-control"],[1,"col-12","mt-4"],["for","foundingDate",1,"form-label"],["type","date","id","foundingDate","formControlName","foundingDate",1,"form-control"],["for","foundingLocation",1,"form-label"],["type","text","id","foundingLocation","formControlName","foundingLocation","placeholder","Enter founding location",1,"form-control"],["for","ideology",1,"form-label"],["type","text","id","ideology","formControlName","ideology","placeholder","Enter political ideology",1,"form-control"],["for","colors",1,"form-label"],["type","text","id","colors","formControlName","colors","placeholder","e.g., Red, White, Blue",1,"form-control"],["for","symbol",1,"form-label"],["type","text","id","symbol","formControlName","symbol","placeholder","Enter party symbol",1,"form-control"],["for","motto",1,"form-label"],["type","text","id","motto","formControlName","motto","placeholder","Enter party motto",1,"form-control"],["for","websiteUrl",1,"form-label"],["type","url","id","websiteUrl","formControlName","websiteUrl","placeholder","https://example.com",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","contact@party.com",1,"form-control"],["for","phone",1,"form-label"],["type","tel","id","phone","formControlName","phone","placeholder","Enter phone number",1,"form-control"],["for","headquartersAddress",1,"form-label"],["id","headquartersAddress","formControlName","headquartersAddress","rows","2","placeholder","Enter headquarters address",1,"form-control"],["for","registrationNumber",1,"form-label"],["type","text","id","registrationNumber","formControlName","registrationNumber","placeholder","Enter registration number",1,"form-control"],["for","registrationDate",1,"form-label"],["type","date","id","registrationDate","formControlName","registrationDate",1,"form-control"],["for","memberCount",1,"form-label"],["type","number","id","memberCount","formControlName","memberCount","placeholder","Enter member count","min","0",1,"form-control"],[1,"form-check"],["type","checkbox","id","isRegistered","formControlName","isRegistered",1,"form-check-input"],["for","isRegistered",1,"form-check-label"],["type","checkbox","id","isActive","formControlName","isActive",1,"form-check-input"],["for","isActive",1,"form-check-label"],[1,"row","mt-4"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],["class","bi bi-check-lg me-1",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-x-lg","me-1"],[1,"col-lg-4"],[1,"bi","bi-info-circle","me-2"],[1,"list-unstyled"],[1,"bi","bi-check-circle","text-success","me-2"],[1,"badge","bg-success","me-2"],[1,"badge","bg-primary","me-2"],[1,"badge","bg-warning","me-2"],[1,"badge","bg-secondary","me-2"],[1,"bi","bi-asterisk","text-danger","me-2"],[1,"invalid-feedback"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"bi","bi-check-lg","me-1"]],template:function(o,i){if(1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),t.nrm(6,"i",6),t.EFF(7),t.k0s()(),t.j41(8,"div",7)(9,"form",8),t.bIt("ngSubmit",function(){return i.onSubmit()}),t.j41(10,"div",9)(11,"div",10)(12,"h6",11),t.EFF(13,"Basic Information"),t.k0s()(),t.j41(14,"div",12)(15,"label",13),t.EFF(16,"Party Name "),t.j41(17,"span",14),t.EFF(18,"*"),t.k0s()(),t.nrm(19,"input",15),t.DNE(20,V,2,0,"div",16)(21,O,2,0,"div",16)(22,B,2,0,"div",16),t.k0s(),t.j41(23,"div",12)(24,"label",17),t.EFF(25,"Abbreviation "),t.j41(26,"span",14),t.EFF(27,"*"),t.k0s()(),t.nrm(28,"input",18),t.DNE(29,W,2,0,"div",16)(30,X,2,0,"div",16)(31,K,2,0,"div",16),t.k0s(),t.j41(32,"div",10)(33,"label",19),t.EFF(34,"Description"),t.k0s(),t.j41(35,"textarea",20),t.EFF(36,"                    "),t.k0s(),t.DNE(37,H,2,0,"div",16),t.k0s(),t.j41(38,"div",21)(39,"h6",11),t.EFF(40,"Party Details"),t.k0s()(),t.j41(41,"div",12)(42,"label",22),t.EFF(43,"Founding Date"),t.k0s(),t.nrm(44,"input",23),t.k0s(),t.j41(45,"div",12)(46,"label",24),t.EFF(47,"Founding Location"),t.k0s(),t.nrm(48,"input",25),t.DNE(49,Z,2,0,"div",16),t.k0s(),t.j41(50,"div",12)(51,"label",26),t.EFF(52,"Ideology"),t.k0s(),t.nrm(53,"input",27),t.DNE(54,J,2,0,"div",16),t.k0s(),t.j41(55,"div",12)(56,"label",28),t.EFF(57,"Party Colors"),t.k0s(),t.nrm(58,"input",29),t.DNE(59,Q,2,0,"div",16),t.k0s(),t.j41(60,"div",12)(61,"label",30),t.EFF(62,"Party Symbol"),t.k0s(),t.nrm(63,"input",31),t.DNE(64,z,2,0,"div",16),t.k0s(),t.j41(65,"div",12)(66,"label",32),t.EFF(67,"Party Motto"),t.k0s(),t.nrm(68,"input",33),t.DNE(69,tt,2,0,"div",16),t.k0s(),t.j41(70,"div",21)(71,"h6",11),t.EFF(72,"Contact Information"),t.k0s()(),t.j41(73,"div",12)(74,"label",34),t.EFF(75,"Website URL"),t.k0s(),t.nrm(76,"input",35),t.DNE(77,it,2,0,"div",16),t.k0s(),t.j41(78,"div",12)(79,"label",36),t.EFF(80,"Email"),t.k0s(),t.nrm(81,"input",37),t.DNE(82,et,2,0,"div",16),t.k0s(),t.j41(83,"div",12)(84,"label",38),t.EFF(85,"Phone"),t.k0s(),t.nrm(86,"input",39),t.DNE(87,rt,2,0,"div",16),t.k0s(),t.j41(88,"div",12)(89,"label",40),t.EFF(90,"Headquarters Address"),t.k0s(),t.j41(91,"textarea",41),t.EFF(92,"                    "),t.k0s(),t.DNE(93,ot,2,0,"div",16),t.k0s(),t.j41(94,"div",21)(95,"h6",11),t.EFF(96,"Registration Information"),t.k0s()(),t.j41(97,"div",12)(98,"label",42),t.EFF(99,"Registration Number"),t.k0s(),t.nrm(100,"input",43),t.DNE(101,lt,2,0,"div",16),t.k0s(),t.j41(102,"div",12)(103,"label",44),t.EFF(104,"Registration Date"),t.k0s(),t.nrm(105,"input",45),t.k0s(),t.j41(106,"div",12)(107,"label",46),t.EFF(108,"Member Count"),t.k0s(),t.nrm(109,"input",47),t.k0s(),t.j41(110,"div",12)(111,"div",48),t.nrm(112,"input",49),t.j41(113,"label",50),t.EFF(114," Registered Party "),t.k0s()(),t.j41(115,"div",48),t.nrm(116,"input",51),t.j41(117,"label",52),t.EFF(118," Active Party "),t.k0s()()()(),t.j41(119,"div",53)(120,"div",10)(121,"div",54)(122,"button",55),t.DNE(123,at,1,0,"span",56)(124,nt,1,0,"i",57),t.EFF(125),t.k0s(),t.j41(126,"button",58),t.bIt("click",function(){return i.onCancel()}),t.nrm(127,"i",59),t.EFF(128," Cancel "),t.k0s()()()()()()()(),t.j41(129,"div",60)(130,"div",3)(131,"div",4)(132,"h5",5),t.nrm(133,"i",61),t.EFF(134," Guidelines "),t.k0s()(),t.j41(135,"div",7)(136,"h6"),t.EFF(137,"Creating a Political Party"),t.k0s(),t.j41(138,"ul",62)(139,"li"),t.nrm(140,"i",63),t.EFF(141,"Provide a unique party name and abbreviation"),t.k0s(),t.j41(142,"li"),t.nrm(143,"i",63),t.EFF(144,"Include founding date and location"),t.k0s(),t.j41(145,"li"),t.nrm(146,"i",63),t.EFF(147,"Specify political ideology and colors"),t.k0s(),t.j41(148,"li"),t.nrm(149,"i",63),t.EFF(150,"Add contact information and headquarters"),t.k0s(),t.j41(151,"li"),t.nrm(152,"i",63),t.EFF(153,"Include registration details if applicable"),t.k0s()(),t.nrm(154,"hr"),t.j41(155,"h6"),t.EFF(156,"Party Status"),t.k0s(),t.j41(157,"ul",62)(158,"li")(159,"span",64),t.EFF(160,"Active"),t.k0s(),t.EFF(161," Party is currently operational"),t.k0s(),t.j41(162,"li")(163,"span",65),t.EFF(164,"Registered"),t.k0s(),t.EFF(165," Party is officially registered"),t.k0s(),t.j41(166,"li")(167,"span",66),t.EFF(168,"Unregistered"),t.k0s(),t.EFF(169," Party is not officially registered"),t.k0s(),t.j41(170,"li")(171,"span",67),t.EFF(172,"Inactive"),t.k0s(),t.EFF(173," Party is not currently active"),t.k0s()(),t.nrm(174,"hr"),t.j41(175,"h6"),t.EFF(176,"Required Fields"),t.k0s(),t.j41(177,"ul",62)(178,"li"),t.nrm(179,"i",68),t.EFF(180,"Party Name"),t.k0s(),t.j41(181,"li"),t.nrm(182,"i",68),t.EFF(183,"Abbreviation"),t.k0s()()()()()()()),2&o){let s,m,C,j,d,R,D,A,c,I,u,N,p,L,g,$,b,S,F,T,f,U,h,x,y,G,v,M,P,q;t.R7$(7),t.SpI(" ",i.isEditMode?"Edit Political Party":"Create New Political Party"," "),t.R7$(2),t.Y8G("formGroup",i.politicalPartyForm),t.R7$(10),t.AVh("is-invalid",(null==(s=i.politicalPartyForm.get("name"))?null:s.invalid)&&(null==(s=i.politicalPartyForm.get("name"))?null:s.touched)),t.R7$(),t.Y8G("ngIf",null==(m=i.politicalPartyForm.get("name"))?null:m.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(C=i.politicalPartyForm.get("name"))?null:C.hasError("minlength")),t.R7$(),t.Y8G("ngIf",null==(j=i.politicalPartyForm.get("name"))?null:j.hasError("maxlength")),t.R7$(6),t.AVh("is-invalid",(null==(d=i.politicalPartyForm.get("abbreviation"))?null:d.invalid)&&(null==(d=i.politicalPartyForm.get("abbreviation"))?null:d.touched)),t.R7$(),t.Y8G("ngIf",null==(R=i.politicalPartyForm.get("abbreviation"))?null:R.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(D=i.politicalPartyForm.get("abbreviation"))?null:D.hasError("minlength")),t.R7$(),t.Y8G("ngIf",null==(A=i.politicalPartyForm.get("abbreviation"))?null:A.hasError("maxlength")),t.R7$(4),t.AVh("is-invalid",(null==(c=i.politicalPartyForm.get("description"))?null:c.invalid)&&(null==(c=i.politicalPartyForm.get("description"))?null:c.touched)),t.R7$(2),t.Y8G("ngIf",null==(I=i.politicalPartyForm.get("description"))?null:I.hasError("maxlength")),t.R7$(11),t.AVh("is-invalid",(null==(u=i.politicalPartyForm.get("foundingLocation"))?null:u.invalid)&&(null==(u=i.politicalPartyForm.get("foundingLocation"))?null:u.touched)),t.R7$(),t.Y8G("ngIf",null==(N=i.politicalPartyForm.get("foundingLocation"))?null:N.hasError("maxlength")),t.R7$(4),t.AVh("is-invalid",(null==(p=i.politicalPartyForm.get("ideology"))?null:p.invalid)&&(null==(p=i.politicalPartyForm.get("ideology"))?null:p.touched)),t.R7$(),t.Y8G("ngIf",null==(L=i.politicalPartyForm.get("ideology"))?null:L.hasError("maxlength")),t.R7$(4),t.AVh("is-invalid",(null==(g=i.politicalPartyForm.get("colors"))?null:g.invalid)&&(null==(g=i.politicalPartyForm.get("colors"))?null:g.touched)),t.R7$(),t.Y8G("ngIf",null==($=i.politicalPartyForm.get("colors"))?null:$.hasError("maxlength")),t.R7$(4),t.AVh("is-invalid",(null==(b=i.politicalPartyForm.get("symbol"))?null:b.invalid)&&(null==(b=i.politicalPartyForm.get("symbol"))?null:b.touched)),t.R7$(),t.Y8G("ngIf",null==(S=i.politicalPartyForm.get("symbol"))?null:S.hasError("maxlength")),t.R7$(4),t.AVh("is-invalid",(null==(F=i.politicalPartyForm.get("motto"))?null:F.invalid)&&(null==(F=i.politicalPartyForm.get("motto"))?null:F.touched)),t.R7$(),t.Y8G("ngIf",null==(T=i.politicalPartyForm.get("motto"))?null:T.hasError("maxlength")),t.R7$(7),t.AVh("is-invalid",(null==(f=i.politicalPartyForm.get("websiteUrl"))?null:f.invalid)&&(null==(f=i.politicalPartyForm.get("websiteUrl"))?null:f.touched)),t.R7$(),t.Y8G("ngIf",null==(U=i.politicalPartyForm.get("websiteUrl"))?null:U.hasError("maxlength")),t.R7$(4),t.AVh("is-invalid",(null==(h=i.politicalPartyForm.get("email"))?null:h.invalid)&&(null==(h=i.politicalPartyForm.get("email"))?null:h.touched)),t.R7$(),t.Y8G("ngIf",null==(x=i.politicalPartyForm.get("email"))?null:x.hasError("maxlength")),t.R7$(4),t.AVh("is-invalid",(null==(y=i.politicalPartyForm.get("phone"))?null:y.invalid)&&(null==(y=i.politicalPartyForm.get("phone"))?null:y.touched)),t.R7$(),t.Y8G("ngIf",null==(G=i.politicalPartyForm.get("phone"))?null:G.hasError("maxlength")),t.R7$(4),t.AVh("is-invalid",(null==(v=i.politicalPartyForm.get("headquartersAddress"))?null:v.invalid)&&(null==(v=i.politicalPartyForm.get("headquartersAddress"))?null:v.touched)),t.R7$(2),t.Y8G("ngIf",null==(M=i.politicalPartyForm.get("headquartersAddress"))?null:M.hasError("maxlength")),t.R7$(7),t.AVh("is-invalid",(null==(P=i.politicalPartyForm.get("registrationNumber"))?null:P.invalid)&&(null==(P=i.politicalPartyForm.get("registrationNumber"))?null:P.touched)),t.R7$(),t.Y8G("ngIf",null==(q=i.politicalPartyForm.get("registrationNumber"))?null:q.hasError("maxlength")),t.R7$(21),t.Y8G("disabled",i.politicalPartyForm.invalid||i.isSubmitting),t.R7$(),t.Y8G("ngIf",i.isSubmitting),t.R7$(),t.Y8G("ngIf",!i.isSubmitting),t.R7$(),t.SpI(" ",i.isEditMode?"Update Political Party":"Create Political Party"," ")}},dependencies:[k.MD,k.bT,l.X1,l.qT,l.me,l.Q0,l.Zm,l.BC,l.cb,l.VZ,l.j4,l.JD,_.iI],styles:[".form-check-input[_ngcontent-%COMP%]:checked{background-color:#0d6efd;border-color:#0d6efd}.border-bottom[_ngcontent-%COMP%]{border-bottom:2px solid #dee2e6!important}"]})}}return r})()}}]);